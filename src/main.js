import Dolu from './dolu.js'
import axios from 'axios'

const dolu = new Dolu({
  picker: '#picker',
  uploader (data, index) {
    axios({
      method: 'post',
      url: '/upload',
      data: data,
      onUploadProgress: (e) => {
        const percent = Math.round((e.loaded * 100) / e.total)
        console.log(percent, index)
      }
    }).then((res) => {
      console.log(res)
    }).catch((err) => {
      console.log(err)
    })
  },
  getDataUrls (arr) {
    console.log(arr[0])
  },
  getFormDatas (arr) {
    dolu.send(arr)
  }
})

dolu.getUrl('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABACAYAAACeELDCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzkzNzIwNTlGRDkwMTFFNjg3RTdFNzgyMDcwRUVGQTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzkzNzIwNUFGRDkwMTFFNjg3RTdFNzgyMDcwRUVGQTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3OTM3MjA1N0ZEOTAxMUU2ODdFN0U3ODIwNzBFRUZBNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3OTM3MjA1OEZEOTAxMUU2ODdFN0U3ODIwNzBFRUZBNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pjh36LIAAAUvSURBVHja7JxLSJVBFMfv7UFgCUJPaBNF9NBFYRTlSpCislX0sMhqUxaBqx6WtJAiy5UQaW16SElBtNCKIhACiyKphfZAijaClkJQCZJ2+x86glzqzpk533ymzYE/g3x3Zs787rkzZ+b7PpOpVCoRzJ8lA+AAOAAOFgAHwAFwsAB4TAJOJpOxOdPa1j4RRS60CloKzYcWQLOgqVAWf7Qf+g59gt5DH6DX0DOooyA/bygun438RhswoBLATdB6aA00TdnkN+gJdB9qAuz3/x1gQJ2LYhdrqecgo8huIAF217gFDKjU0DqoHFoLTYh5OvwJPYRqoQeAnRoXgAF2Eoqd0GGeX6XWAT2C2qC3UDf0la9lQ3OgxVA+VOTQdg10HaAHxyRgjtjN0ClokbBaH1QHXcPAOy37W4iiFDoATRdWewdVQrddI3pUAGOwy1HUQyuFVSgyq6gOBvpN+YuhRbIMOsmRLrHnVAd9v/ynAfPgKGIPQROF1e5C+6NegHghvQhtFFah1O48RbTNlxwbYAyIovUG560i36AK6FxUC85fpqkj0BkairAapXU74NPzfwIwD+IY/8QnCQfxg1I0DOJmTBuYbZyqTRZWGeQpptr05XsFDMdpZ3UZ2mozbUElccFNg9xoEclkt6C98LXfFfAEhcMzUTy2hEtWETdcMu6zwrIaje0xjzW+swh0OJtz1DzL/mhB2ySdc9HPEop2qJD7yuFLX6B2qIWiEu29sZiTmywWvmGjvorQT4/3KYK/zacWi9nIVGyJJFtAH4t5I1AsbLuZNjJo+60wu3hjkcKNXPxWo4/P3qYIODcFxR0HuGRVQrj7UbyygJvgz77iuqapoosXZFujMd9hBmKznYMpryxwcK6PNx4muKf4c1Mc+qA69dyGyerZJ+upnBlEDxiOb0Gx23GurzMl7xx9JyJYz06YIpl9qXNsfzeziA4wGqS9/QXFoK8J5tzaCJOGWm7T2SeDXWAmkUUwHYjMcHSmQ3BwU+M4LWSaLmoMUdzJp2ouNoOZ6AHzN7VPMdhHglSsOBG9FXPbzr4ZbJ8kiiURTDugLIUjbYbrJR73FyVK3zJZFrNRA96gHKQpNy30CLhQ6ZuajQTwCqUT3YbreR4B5yl9U7ORAJ6tdOKr4XqOR8A5vD129U3NJu4bj386GxjXJgHco+wjO0OqlOKDG1/2xXCwlK1svycKwC+UTswxXG/3CLhd6ZuajQTwPaUTph1Vi0fALUrf1GwkgOmgul/hRL7heqNHwI1K3zJZP7PRAcYcRqdOlxSOFBnap7PZZg9wmwUH8UWK9i8xm0iyCDoC7HV0JJcfCslk9NTPQIRwB7jNTBkM+ZTr2H4vM4kkixiO4oOKAZca2qcdVXmEgMsFdzdKFe0flEQvmdUtI3zrVxJuZ8LkzDzBmTBFhfZM+DT6qTT0Qw/IfEzIH7EaaVfR/p7hP6K+q0wH2a0OTtFAygS/lEr+3IDjtFBmgstW5gi3lRmILdz0lJvTTc9w216+YYnntn1aJN93yCWPwdGzmrML12fZUP8oimrLanRmvD49cr0DZofDo1O+Hp3iSKKOt0PHE78fmBPN+1ADDzhOuA0WcAd5TNszwfWyyGUYRHh8NeoITotmcmhZ4vft9yFhJNN82MQre9Rw5/KCVi2EO8S+L5PCjTWC0wYXXiHwCXjEzzO8BBNe4xqjr3H9JaLDi4i+AP9hAQqv0voCnAY7vAwe44bg//t3BsE858HBAuAAOAAOFgAHwMEC4NGwXwIMAMcV1jHSS7N7AAAAAElFTkSuQmCC', (data) => {
  console.log(data)
})
